import hashlib
import base64
from urllib.parse import quote
import sys

# Ensure there's a command-line argument provided for the file name
if len(sys.argv) < 2:
    print("Usage: python script.py <file_path>")
    sys.exit(1)

file_path = sys.argv[1]

with open(file_path, 'r') as file:
    lines = file.readlines()

for line in lines:
    line = line.strip()
    # MD5 Hash (as bytes)
    md5_hash_bytes = hashlib.md5(line.encode()).hexdigest().encode('utf-8')

    #print(md5_hash_bytes)
    # Base64 encode the MD5 hash bytes
    base64_encoded = base64.b64encode(md5_hash_bytes).decode()  # Decode to get a string
    #print(base64_encoded)
    # URL encode the Base64 encoded string
    url_encoded = quote(base64_encoded)
    print(url_encoded)
